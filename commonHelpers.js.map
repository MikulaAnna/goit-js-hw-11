{"version":3,"file":"commonHelpers.js","sources":["../src/js/2-render-functions.js","../src/js/1-pixabay-api.js","../src/main.js"],"sourcesContent":["import { lightbox, gallery } from '../main';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderImages(data) {\n  if (data.hits.length == 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    const markup = data.hits\n      .map(photo => {\n        return `<li class=\"photos-list-item\">\n            <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n            <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n            </a>\n            <ul class=\"photo-information-container\">\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n            </ul>\n            </li>`;\n      })\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n  }\n}\n","import { showLoader, form } from '../main';\n\nexport function fetchImages() {\n  const inputValue = form.elements.search.value.trim().split(',').join('+');\n  const API_KEY = '42958097-9b7fc012df8e9620edb2fab69';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: [inputValue],\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  showLoader();\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { renderImages } from './js/2-render-functions';\nimport { fetchImages } from './js/1-pixabay-api';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const form = document.querySelector('.search-form');\nexport const gallery = document.querySelector('.gallery');\n\nexport const lightbox = new SimpleLightbox('.photos-list-link', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst preloader = document.querySelector('.loader');\n\npreloader.style.display = 'none';\n\nexport const showLoader = () => {\n  preloader.style.display = 'flex';\n};\nconst hideLoader = () => {\n  preloader.style.display = 'none';\n};\n\nform.addEventListener('submit', formSubmitHandler);\n\nfunction formSubmitHandler(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n\n  const input = event.target.elements.search.value.trim();\n  if (input !== '') {\n    fetchImages()\n      .then(photos => {\n        renderImages(photos);\n        hideLoader();\n      })\n      .catch(error => {\n        console.log(error);\n        hideLoader();\n        iziToast.error({\n          message: 'Sorry, an error occurred while loading. Please try again!',\n          theme: 'dark',\n          progressBarColor: '#FFFFFF',\n          color: '#EF4040',\n          position: 'topRight',\n        });\n      });\n    form.reset();\n  } else {\n    iziToast.show({\n      message: 'Please complete the field!',\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n  }\n}\n"],"names":["renderImages","data","iziToast","markup","photo","gallery","lightbox","fetchImages","inputValue","form","API_KEY","searchParams","showLoader","response","SimpleLightbox","preloader","hideLoader","formSubmitHandler","event","photos","error"],"mappings":"6vBAKO,SAASA,EAAaC,EAAM,CACjC,GAAIA,EAAK,KAAK,QAAU,EACtBC,EAAS,MAAM,CACb,QACE,2EACF,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIG,GACI;AAAA,gDACiCA,EAAM,aAAa;AAAA,sCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oGAGwBA,EAAM,KAAK;AAAA,oGACXA,EAAM,KAAK;AAAA,uGACRA,EAAM,QAAQ;AAAA,wGACbA,EAAM,SAAS;AAAA;AAAA,kBAGhH,EACA,KAAK,EAAE,EACVC,EAAQ,mBAAmB,YAAaF,CAAM,EAE9CG,EAAS,QAAO,CACjB,CACH,CCjCO,SAASC,GAAc,CAC5B,MAAMC,EAAaC,EAAK,SAAS,OAAO,MAAM,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EAClEC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAG,CAACF,CAAU,EACd,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAAI,IACO,MAAM,4BAA4BD,CAAY,EAAE,EAAE,KAAKE,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCZO,MAAMJ,EAAO,SAAS,cAAc,cAAc,EAC5CJ,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIQ,EAAe,oBAAqB,CAC9D,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAY,SAAS,cAAc,SAAS,EAElDA,EAAU,MAAM,QAAU,OAEnB,MAAMH,EAAa,IAAM,CAC9BG,EAAU,MAAM,QAAU,MAC5B,EACMC,EAAa,IAAM,CACvBD,EAAU,MAAM,QAAU,MAC5B,EAEAN,EAAK,iBAAiB,SAAUQ,CAAiB,EAEjD,SAASA,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EACpBb,EAAQ,UAAY,GAENa,EAAM,OAAO,SAAS,OAAO,MAAM,SACnC,IACZX,EAAa,EACV,KAAKY,GAAU,CACdnB,EAAamB,CAAM,EACnBH,GACR,CAAO,EACA,MAAMI,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBJ,IACAd,EAAS,MAAM,CACb,QAAS,4DACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UACpB,CAAS,CACT,CAAO,EACHO,EAAK,MAAK,GAEVP,EAAS,KAAK,CACZ,QAAS,6BACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,CAEL"}